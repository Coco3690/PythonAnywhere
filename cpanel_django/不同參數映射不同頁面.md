## å› ç‚ºcpanelçš„.htaccessè¨­æœ‰ PassengerBaseURI "/djgo"ï¼Œå› æ­¤ç¶²å€æœƒè®Šæˆå…©å±¤https://abc.com/djgo/djgo/static/style.css

```sh
# DO NOT REMOVE. CLOUDLINUX PASSENGER CONFIGURATION BEGIN
PassengerAppRoot "/home/j8bghfeg3tig/djgo"
PassengerBaseURI "/djgo"
PassengerPython "/home/j8bghfeg3tig/virtualenv/djgo/3.11/bin/python"
PassengerAppLogFile "/home/j8bghfeg3tig/djgo.log"
# DO NOT REMOVE. CLOUDLINUX PASSENGER CONFIGURATION END
# DO NOT REMOVE OR MODIFY. CLOUDLINUX ENV VARS CONFIGURATION BEGIN
<IfModule Litespeed>
</IfModule>
# DO NOT REMOVE OR MODIFY. CLOUDLINUX ENV VARS CONFIGURATION END
```

## è§£æ±ºè¾¦æ³•ï¼š

## é…ç½®FORCE_SCRIPT_NAME

âœï¸ä¿®æ”¹settings.pyåœ¨ALLOWED_HOSTSå¾Œæ·»åŠ USE_X_FORWARDED_HOST = True ï¼š

```python
ALLOWED_HOSTS = ['127.0.0.1', 'localhost','abc123.com']
USE_X_FORWARDED_HOST = True  # ç”¨äºåå‘ä»£ç†ç¯å¢ƒ
```

âœï¸ä¿®æ”¹settings.pyï¼Œåœ¨cpanelç«¯ä¿®æ”¹ç‚ºFORCE_SCRIPT_NAME = '/djgo'ã€STATIC_URL = f'{FORCE_SCRIPT_NAME}/static/' ï¼š

```python
# ç¢ºèªæ˜¯å¦åœ¨æœ¬åœ°ç«¯é‹è¡Œ
IS_LOCAL = os.getenv('DJANGO_LOCAL', 'False') == 'True'

# è¨­ç½® STATIC_URL æ ¹æ“šç’°å¢ƒè‡ªå‹•èª¿æ•´
if IS_LOCAL:
    STATIC_URL = '/static/'
else:
    FORCE_SCRIPT_NAME = '/djgo'  # å¼ºåˆ¶æ‰€æœ‰ç”ŸæˆURLåŒ…å«è¯¥å‰ç¼€
    STATIC_URL = f'{FORCE_SCRIPT_NAME}/static/'  # è‡ªåŠ¨æ‹¼æ¥å‰ç¼€
```

## ğŸ“Œç”¨ `?act=` å‚æ•°æ¥æ˜ å°„ä¸åŒçš„é¡µé¢

| æœ¬åœ°                              | éƒ¨ç½²å¾Œï¼ˆcPanelï¼‰                     |
| ------------------------------- | ------------------------------- |
| http://127.0.0.1:8000/          | `https://åŸŸå.com/djgo/`          |
| http://127.0.0.1:8000/?act=base | `https://åŸŸå.com/djgo/?act=base` |
| http://127.0.0.1:8000/?act=prod | `https://åŸŸå.com/djgo/?act=prod` |
| http://127.0.0.1:8000/?act=cart | `https://åŸŸå.com/djgo/?act=cart` |

**ä¸¦ç¢ºä¿ `templates` ç›®éŒ„æœ‰å°æ‡‰çš„ HTML**

- `templates/index.html`
- `templates/base.html`
- `templates/product.html`
- `templates/cart.html`

---

### **1. ä¿®æ”¹ `urls.py`**

```python
from django.contrib import admin
from django.urls import path
from django.shortcuts import redirect
from django.conf import settings
from django.conf.urls.static import static
from appfiles import views
import os

# åˆ¤æ–·æ˜¯å¦ç‚ºæœ¬åœ°é–‹ç™¼ç’°å¢ƒ
IS_LOCAL = os.getenv('DJANGO_LOCAL', 'False') == 'True'

urlpatterns = [
    path('admin/', admin.site.urls),
    path('', views.route_view, name='base_route'), # ç»Ÿä¸€ç”± route_view å¤„ç†
]
```

---

### **2. ä¿®æ”¹ `views.py`**

```python
from django.shortcuts import render

def route_view(request):
    act = request.GET.get('act', 'home')  # å– URL å‚æ•° `act`ï¼Œé»˜è®¤ `home`

    if act == 'home':
        return render(request, 'index.html')
    elif act == 'base':
        return render(request, 'base.html')
    elif act == 'prod':
        return render(request, 'product.html')
    elif act == 'cart':
        return render(request, 'cart.html')
    else:
        return render(request, '404.html', status=404)
```

---

é€™æ¨£ï¼Œç„¡è«–æœ¬åœ°é‚„æ˜¯ cPanel æœå‹™å™¨ï¼Œ`act` åƒæ•¸éƒ½æœƒæ±ºå®šè¿”å›çš„é é¢ï¼Œå¯¦ç¾ä¸€è‡´æ€§ã€‚